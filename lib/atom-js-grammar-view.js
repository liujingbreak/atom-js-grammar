// Generated by CoffeeScript 1.10.0
var $ = require('./jquery-1.12.0.js');
var Emitter = require('eventemitter3');
var AtomJsGrammarView;

module.exports = AtomJsGrammarView = (function() {
	function AtomJsGrammarView(serializedState) {
		Emitter.call(this);
		var self = this;
		self.state = serializedState;
		var message;
		$ = $ ? $ : window.$;

		this.element = document.createElement('div');
		this.element.classList.add('atom-js-grammar');

		var el = $(this.element);
		self.el = el;
		el.attr('tabIndex', '1');
		el.on('keydown', function(evt) {
			console.log(evt.keyCode);
			if (evt.keyCode === 27 || evt.keyCode === 13 ) { //press ESC
				self.emit('close');
			}
		});
		this.title = message = document.createElement('div');
		message.textContent = 'The AtomJsGrammar package is Alive! It\'s ALIVE!';
		message.classList.add('message');
		this.element.appendChild(message);
	}
	AtomJsGrammarView.prototype = Object.create(Emitter.prototype);

	var prot = AtomJsGrammarView.prototype;

	prot.serialize = function() {};

	prot.destroy = function() {
		return this.element.remove();
	};
	prot.getElement = function() {
		return this.element;
	};
	prot.focus = function() {
		this.el.focus();
	};

	AtomJsGrammarView.prototype.render = function render() {
		this.title.textContent = this.state.fileName;
	};

	return AtomJsGrammarView;
})();
